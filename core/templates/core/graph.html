<!doctype html>

<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <script src="{{ STATIC_URL }}core/js/cytoscape.js"></script>
</head>

<style>
    #cy {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0px;
        left: 0px;
    }
</style>

<body>
    <div id="cy"></div>
    <script>
        var graph = JSON.parse('{{ graph|safe}}');
        var cy = cytoscape({
          container: document.getElementById('cy'),
          elements: graph,
        style: cytoscape.stylesheet()
        .selector('node')
          .css({
              'content': 'data(id)',
              'background-color': 'red',
          })
        .selector('edge')
          .css({
            'content': 'data(name)',
            'curve-style': 'bezier',
            'target-arrow-shape': 'triangle',
            'target-arrow-color': 'blue',
            'width': 4,
            'line-color': 'blue',
          })
        .selector('.highlighted')
          .css({
            'transition-property': 'background-color, line-color, target-arrow-color',
            'transition-duration': '0.5s'
          }),
        });

        var layout = cy.layout({
            name: 'breadthfirst'
        });
        layout.run();
    </script>
</body>